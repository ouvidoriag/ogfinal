{
  "inicio": "2026-01-13T12:15:10.099Z",
  "fim": "2026-01-13T12:15:42.422Z",
  "total": 10,
  "passou": 2,
  "falhou": 6,
  "pulou": 3,
  "detalhes": [
    {
      "teste": "ValidaÃ§Ã£o de Sintaxe JavaScript",
      "status": "PASSOU",
      "total": 281
    },
    {
      "teste": "Teste de APIs",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:apis\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:apis\n> node scripts/test/test-all-apis.js\n\n\u001b[34mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\u001b[0m\n\u001b[34mâ•‘  TESTE COMPLETO - APIs, KPIs e FILTROS                    â•‘\u001b[0m\n\u001b[34mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\u001b[0m\n\nBase URL: http://localhost:3000\n\n\u001b[36mâ–¶ Conectividade do servidor\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401\n\n\u001b[36mâ–¶ GET /api/dashboard-data - Estrutura completa\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401: Unauthorized\n\n\u001b[36mâ–¶ GET /api/summary - KPIs principais\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401: Unauthorized\n\n\u001b[36mâ–¶ POST /api/filter/aggregated - Sem filtros (estrutura vazia)\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401: Unauthorized\n\n\u001b[36mâ–¶ POST /api/filter/aggregated - Filtro por Status\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m NÃ£o foi possÃ­vel obter status vÃ¡lido\n\n\u001b[36mâ–¶ POST /api/filter/aggregated - Filtro por Canal\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m NÃ£o foi possÃ­vel obter canal vÃ¡lido\n\n\u001b[36mâ–¶ POST /api/filter/aggregated - MÃºltiplos filtros simultÃ¢neos\u001b[0m\n\u001b[31mâœ— FAIL"
    },
    {
      "teste": "Teste de KPIs",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:kpis\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:kpis\n> node scripts/test/test-kpis.js\n\n\u001b[34mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\u001b[0m\n\u001b[34mâ•‘  TESTE DE KPIs E MÃ‰TRICAS                                 â•‘\u001b[0m\n\u001b[34mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\u001b[0m\n\nBase URL: http://localhost:3000\n\n\u001b[36mâ–¶ Testando GET /api/dashboard-data\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401\n\n\u001b[36mâ–¶ Testando GET /api/summary\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m HTTP 401\n\n\u001b[36mâ–¶ Testando consistÃªncia entre endpoints\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m NÃ£o foi possÃ­vel comparar (endpoints falharam)\n\n\u001b[34mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\u001b[0m\n\u001b[34mâ•‘  RESUMO                                                    â•‘\u001b[0m\n\u001b[34mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\u001b[0m\n\n\u001b[32mâœ“ Passou: 0\u001b[0m\n\u001b[31mâœ— Falhou: 3\u001b[0m\n\n"
    },
    {
      "teste": "Teste de Filtros",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:filters\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:filters\n> node scripts/test/test-filters.js\n\n\u001b[34mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\u001b[0m\n\u001b[34mâ•‘  TESTE DE FILTROS CROSSFILTER                            â•‘\u001b[0m\n\u001b[34mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\u001b[0m\n\nBase URL: http://localhost:3000\n\n\u001b[36mâ–¶ Obtendo valores de teste...\u001b[0m\n\u001b[31mâœ— FAILED\u001b[0m NÃ£o foi possÃ­vel obter dados do dashboard\n\n"
    },
    {
      "teste": "Teste de ConexÃ£o MongoDB",
      "status": "PASSOU",
      "output": "09:15:30 [\u001b[32mdebug\u001b[39m]: Logger inicializado {\n  \"environment\": \"development\"\n}\r\nğŸ§ª TESTE DE CONEXÃƒO MONGOOSE\n\n============================================================\n\n1ï¸âƒ£ Testando conexÃ£o...\n09:15:32 [\u001b[32minfo\u001b[39m]: âœ… Mongoose conectado ao MongoDB Atlas com sucesso\r\nâœ… Mongoose conectado com sucesso!\n\n2ï¸âƒ£ Status da conexÃ£o:\n{\n  \"state\": \"connected\",\n  \"readyState\": 1,\n  \"host\": \"ac-fqrlqyy-shard-00-00.gk8g0dq.mongodb.net\",\n  \"port\": 27017,\n  \"name\": \"ouvidoria\"\n}\n\n3ï¸âƒ£ Testando models.."
    },
    {
      "teste": "Teste de Google Sheets",
      "status": "FALHOU",
      "erro": "Command failed: node scripts/test/testGoogleSheets.js\n\nâŒâŒâŒ ERRO NO TESTE âŒâŒâŒ\n\nâŒ Erro de credenciais!\n   - Verifique se o arquivo de credenciais existe\n   - Verifique se o GOOGLE_CREDENTIALS_FILE estÃ¡ correto no .env\n\nğŸ’¡ Dicas:\n   1. Verifique se todas as variÃ¡veis estÃ£o no .env\n   2. Verifique se a planilha foi compartilhada com o Service Account\n   3. Verifique se a Google Sheets API estÃ¡ habilitada\n   4. Consulte GOOGLE_SHEETS_SETUP.md para mais detalhes\n\n",
      "output": "ğŸ§ª Testando conexÃ£o com Google Sheets...\n\nğŸ“‹ Verificando configuraÃ§Ãµes...\nâœ… GOOGLE_SHEET_ID: 1SCifd4v8D54qihNbwFW2jhHlpR2YtIZVZo81u4qYhV4\n\nğŸ” Autenticando...\n"
    },
    {
      "teste": "Teste de Chaves Gemini",
      "status": "FALHOU",
      "erro": "Command failed: node scripts/test/testGeminiKeys.js\n",
      "output": "ğŸ§ª Teste de Chaves da API Gemini\n\n============================================================\n\nğŸ“Š Total de chaves encontradas: 4\n\n\nğŸ”‘ Testando Chave 1/4...\n   Prefixo: AIzaSyBhJbRkQ17...\n   Tamanho: 39 caracteres\n   âŒ ERRO 403 (1033ms)\n   ğŸ“ Mensagem: Your API key was reported as leaked. Please use another API key.\n   âš ï¸  PermissÃ£o negada - verifique se a API estÃ¡ habilitada\n\nğŸ”‘ Testando Chave 2/4...\n   Prefixo: AIzaSyCtHXmh7Vl...\n   Tamanho: 39 caracteres\n   âŒ ERRO 403 (200ms)\n   ğŸ“ Mensagem: Your API key was reported as leaked. Please use another API key.\n   âš ï¸  PermissÃ£o negada - verifique se a API estÃ¡ habilitada\n\nğŸ”‘ Testando Chave 3/4...\n   Prefixo: AIzaSyD5tuRJmco...\n   Tamanho: 39 caracteres\n   âŒ ERRO 403 (186ms)\n   ğŸ“ Mensagem: Your API key was reported as leaked. Please use another API key.\n   âš ï¸  PermissÃ£o negada - verifique se a API estÃ¡ habilitada\n\nğŸ”‘ Testando Chave 4/4...\n   Prefixo: AIzaSyBmawLDceB...\n   Tamanho: 39 caracteres\n   âŒ ERRO 403 (188ms)\n   ğŸ“ Mensagem: Your A"
    },
    {
      "teste": "Teste de PÃ¡ginas",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:pages\n\nâŒ Erro ao executar testes: Could not find Chrome (ver. 142.0.7444.175). This can occur if either\n 1. you did not perform an installation before running the script (e.g. `npx puppeteer browsers install chrome`) or\n 2. your cache path is incorrectly configured (which is: C:\\Users\\501379.PMDC\\.cache\\puppeteer).\nFor (2), check out our guide on configuring puppeteer at https://pptr.dev/guides/configuration.\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:pages\n> node scripts/test/run-page-tests.js\n\nğŸ§ª Script de Teste de PÃ¡ginas e GrÃ¡ficos\n\nâœ… Servidor acessÃ­vel em http://localhost:3000\n\nğŸš€ Iniciando testes com Puppeteer...\n\n"
    },
    {
      "teste": "Teste Crossfilter",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:crossfilter\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:crossfilter\n> node scripts/test/test-crossfilter.js\n\n\u001b[34m\n============================================================\u001b[0m\n\u001b[34mğŸ§ª TESTE COMPLETO DO SISTEMA CROSSFILTER\u001b[0m\n\u001b[34m============================================================\n\u001b[0m\n\u001b[36mâ„¹ï¸  \nğŸ“Š Testando filtros de Status\u001b[0m\n\u001b[36mâ„¹ï¸    Buscando valores distintos: http://localhost:3000/api/distinct?field=Status\u001b[0m\n\u001b[33mâš ï¸    API retornou status 401 para Status\u001b[0m\n\u001b[33mâš ï¸  Nenhum valor encontrado para Status\u001b[0m\n\u001b[36mâ„¹ï¸  \nğŸ“Š Testando filtros de Tema\u001b[0m\n\u001b[36mâ„¹ï¸    Buscando valores distintos: http://localhost:3000/api/distinct?field=Tema\u001b[0m\n\u001b[33mâš ï¸    API retornou status 401 para Tema\u001b[0m\n\u001b[33mâš ï¸  Nenhum valor encontrado para Tema\u001b[0m\n\u001b[36mâ„¹ï¸  \nğŸ“Š Testando filtros de Orgaos\u001b[0m\n\u001b[36mâ„¹ï¸    Buscando valores distintos: http://localhost:3000/api/distinct?field=Orgaos\u001b[0m\n\u001b[33mâš ï¸    API retornou status 401 para Orgaos\u001b[0m\n\u001b[33mâš ï¸  Nenhum valor encontrado para Orgaos\u001b[0m\n\u001b[36mâ„¹ï¸  \nğŸ“Š Testando fi"
    },
    {
      "teste": "Teste de AgregaÃ§Ãµes",
      "status": "FALHOU",
      "erro": "Command failed: npm run test:aggregation\nâŒ Erro no teste: Error: API retornou status 401\n    at testAggregation (file:///C:/Users/501379.PMDC/Desktop/DRIVE/Dashboard/NOVO/scripts/test/test-aggregation-auto.js:31:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n",
      "output": "\n> ouvidoria-dashboard@3.0.0 test:aggregation\n> node scripts/test/test-aggregation-auto.js\n\nğŸ§ª Iniciando teste automatizado de agregaÃ§Ã£o...\n\n1ï¸âƒ£ Buscando dados filtrados da API...\n"
    }
  ]
}